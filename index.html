<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=640, initial-scale=1, user-scalable=no" />
<title>CanlÄ± Kurlar</title>
<style>
body{
  margin:0;background:#0f1115;color:#fff;font-family:Segoe UI,Roboto,Arial,sans-serif;
  width:640px;height:1152px;overflow:hidden;position:relative;
}
header{text-align:center;font-size:28px;font-weight:600;color:#3aa0ff;}
#time{text-align:center;font-size:13px;color:#999;margin-bottom:10px;}
footer{
  position:absolute;bottom:0;left:0;width:100%;
  display:flex;flex-direction:column;align-items:center;
  padding:10px 15px;background:rgba(0,0,0,0.8);backdrop-filter:blur(8px);border-top:1px solid #222;
}
.cards{
  display:flex;
  justify-content:space-between;
  width:100%;
}
.card{flex:1;text-align:center;margin:0 5px;background:#1a1f29;border-radius:12px;padding:8px 6px;font-size:18px;}
.label{font-size:12px;color:#aaa;margin-bottom:4px;}
.value{font-weight:bold;font-size:22px;transition:color .3s;}
.up{color:#18c964;}
.down{color:#ff4d4f;}
</style>
</head>
<body>

<footer>
  <header>ðŸ’± CanlÄ± Kurlar</header>
  <div id="time">YÃ¼kleniyor...</div>
  <div class="cards">
    <div class="card"><div class="label">USD / TRY</div><div id="usd" class="value">--</div></div>
    <div class="card"><div class="label">EUR / TRY</div><div id="eur" class="value">--</div></div>
    <div class="card"><div class="label">GBP / TRY</div><div id="gbp" class="value">--</div></div>
    <div the="card"><div class="label">GRAM ALTIN</div><div id="gold" class="value">--</div></div>
  </div>
</footer>

<script>
const el = id => document.getElementById(id);
const last = {};

// DÃ¶viz kurlarÄ±nÄ± getiren fonksiyon
async function getRatesTRY(){
  const res = await fetch("https://api.exchangerate.host/latest?base=USD&symbols=TRY,EUR,GBP");
  const data = await res.json();
  return {
    usdtry: data.rates.TRY,
    eurtry: (data.rates.TRY / data.rates.EUR),
    gbptry: (data.rates.TRY / data.rates.GBP)
  };
}

// Ons altÄ±n (USD/ons) getiren fonksiyon
async function getOnsUSD(){
  const apiKey = "YOUR_METALS_API_KEY";  // burada Metals-API anahtarÄ±nÄ± gir
  const res = await fetch(`https://metals-api.com/api/latest?access_key=${apiKey}&base=USD&symbols=XAU`);
  const data = await res.json();
  // data.rates.XAU = 1 USD kaÃ§ XAU olduÄŸuna dair deÄŸer,
  // ons USD = 1 / data.rates.XAU
  const onsUSD = 1 / data.rates.XAU;
  return onsUSD;
}

// Gram altÄ±n TRY hesabÄ±
async function getGramTRY(usdtry){
  const onsUSD = await getOnsUSD();
  const gram = (onsUSD * usdtry) / 31.1035;
  return gram;
}

// GÃ¼ncelleme fonksiyonu
async function refresh(){
  try{
    const { usdtry, eurtry, gbptry } = await getRatesTRY();
    const gramtry = await getGramTRY(usdtry);

    el("usd").textContent = usdtry.toFixed(2);
    el("eur").textContent = eurtry.toFixed(2);
    el("gbp").textContent = gbptry.toFixed(2);
    el("gold").textContent = gramtry.toFixed(2);

    el("time").textContent = "Son gÃ¼ncelleme: " + new Date().toLocaleTimeString("tr-TR",{hour12:false});
  } catch(e){
    console.error(e);
    el("time").textContent = "Veri alÄ±namadÄ±";
  }
}

// Her 10 saniyede bir Ã§alÄ±ÅŸtÄ±r
refresh();
setInterval(refresh, 10000);
</script>

</body>
</html>
